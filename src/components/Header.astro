---
import { Star } from "@lucide/astro";
import ThemeToggle from "./react/ThemeToggle";

const NAV_LINKS = [
    { title: "in√≠cio", link: "/"},
    { title: "blog", link: "/blog"},
    { title: "sobre", link: "/sobre"},
    { title: "software", link: "/software"},
    { title: "rss", link: "/rss.xml", newTab: true}, 
];

const currentPath = Astro.url.pathname;
---
<header class="flex justify-between items-center my-3 sm:my-4">
    <nav class="mt-2">
        <ul class="flex gap-2 sm:gap-3 text-center text-sm sm:text-base">
        { NAV_LINKS.map((item, i) => {
            const isActive = item.link === '/' 
                ? currentPath === '/' 
                : currentPath.startsWith(item.link);

            return (
                <li class="font-semibold text-gray-800 dark:text-gray-200 flex gap-2 sm:gap-3 items-center">
                    
                    { i !== 0 && (
                        <Star class="w-3 h-3 sm:w-3.5 sm:h-3.5 text-gray-400" />
                    )}
                    
                    <a 
                        class:list={[
                            "transition-colors",
                            isActive 
                                ? "text-rose-500 dark:text-rose-300" 
                                : "hover:text-rose-600 dark:hover:text-rose-200 hover:underline hover:decoration-1 hover:underline-offset-2"
                        ]}
                        href={ item.link }
                        target={ item.newTab ? "_blank" : "_self" }
                    >
                        { item.title }
                    </a>
                </li>
            )
        })}
        </ul>
    </nav>

    <ThemeToggle client:load />
</header>