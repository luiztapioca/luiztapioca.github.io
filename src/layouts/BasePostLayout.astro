---
import BaseLayout from "./BaseLayout.astro";
import { Star } from "@lucide/astro";

const { frontmatter } = Astro.props;

const { title, description, date, pubDate, updatedDate, tags } = frontmatter || Astro.props;

const displayDate = date || pubDate;
---

<BaseLayout title={title} description={description}>
    
    <header class="mb-10">
        <h1 class="mb-4 text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 font-inter">
            {title}
        </h1>
        
        <div class="flex flex-wrap items-center gap-3 text-sm sm:text-base text-gray-500 dark:text-gray-400 font-jetbrains">
            
            {displayDate && (
                <time datetime={new Date(displayDate).toISOString()}>
                    {new Date(displayDate).toLocaleDateString('pt-BR', {
                        day: '2-digit',
                        month: 'short',
                        year: 'numeric',
                    })}
                </time>
            )}
            
            {displayDate && tags && tags.length > 0 && (
                <Star class="w-3.5 h-3.5 text-gray-400" />
            )}

            {tags && tags.length > 0 && (
                <div class="flex gap-2 flex-wrap">
                    {tags.map((tag:string) => (
                        <a 
                            href={`/tags/${tag}`}
                            class="
                                /* CORES BASE */
                                text-rose-500 dark:text-rose-300
                                
                                /* CORES HOVER */
                                hover:text-rose-600 dark:hover:text-rose-200
                                
                                transition-colors 
                                hover:underline decoration-1 underline-offset-2
                            "
                        >
                            #{tag}
                        </a>
                    ))}
                </div>
            )}
        </div>

        {updatedDate && (
            <div class="mt-2 text-xs sm:text-sm text-gray-400 italic font-jetbrains">
                Atualizado: {new Date(updatedDate).toLocaleDateString('pt-BR')}
            </div>
        )}
    </header>

    <slot />

</BaseLayout>