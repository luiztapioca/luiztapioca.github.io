---
import BaseLayout from "./BaseLayout.astro";
import { Star } from "@lucide/astro";

const { frontmatter } = Astro.props;

const { title, description, date, pubDate, updatedDate, tags } = frontmatter || Astro.props;

const displayDate = date || pubDate;
---

<BaseLayout title={title} description={description}>

    <header class="mb-10">
        <h1 class="mb-4 text-2xl sm:text-3xl font-bold text-[#586e75] dark:text-[#93a1a1] font-jetbrains">
            {title}
        </h1>

        <div class="flex flex-wrap items-center gap-3 text-sm sm:text-base text-[#93a1a1] dark:text-[#586e75] font-jetbrains">

            {displayDate && (
                <time datetime={new Date(displayDate).toISOString()}>
                    {new Date(displayDate).toLocaleDateString('pt-BR', {
                        day: '2-digit',
                        month: 'short',
                        year: 'numeric',
                    })}
                </time>
            )}

            {displayDate && tags && tags.length > 0 && (
                <Star class="w-3.5 h-3.5 text-[#93a1a1] dark:text-[#586e75]" />
            )}

            {tags && tags.length > 0 && (
                <div class="flex gap-2 flex-wrap">
                    {tags.map((tag:string) => (
                        <a
                            href={`/tags/${tag}`}
                            class="
                                /* CORES BASE: Azul Solarized */
                                text-[#268bd2] dark:text-[#268bd2]

                                /* CORES HOVER: Magenta Solarized */
                                hover:text-[#d33682] dark:hover:text-[#d33682]

                                transition-colors
                                hover:underline decoration-1 underline-offset-2
                            "
                        >
                            #{tag}
                        </a>
                    ))}
                </div>
            )}
        </div>

        {updatedDate && (
            <div class="mt-2 text-xs sm:text-sm text-[#93a1a1] dark:text-[#586e75] italic font-jetbrains">
                Atualizado: {new Date(updatedDate).toLocaleDateString('pt-BR')}
            </div>
        )}
    </header>

    <slot />

</BaseLayout>
